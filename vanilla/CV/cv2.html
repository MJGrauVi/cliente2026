<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>CV DAW PDF</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
<button id="generarCV">Generar CV</button>
<script>
const { jsPDF } = window.jspdf;

document.getElementById("generarCV").addEventListener("click", () => {
  const doc = new jsPDF();
  let y = 20;

  const margenIzquierdo = 20;
  const maxWidth = 170;

  function addParagraph(text, fontSize=11, spacing=6) {
    const lines = doc.splitTextToSize(text, maxWidth);
    doc.setFontSize(fontSize);
    doc.text(lines, margenIzquierdo, y);
    y += lines.length * fontSize * 0.35 + spacing;
  }

  // Título
  doc.setFontSize(16);
  doc.text("CURRÍCULUM VITAE", margenIzquierdo, y);
  y += 10;

  // Datos personales
  addParagraph("María José Grau Vidal", 12, 2);
  addParagraph("Petrer · mariajosegrauvidal@gmail.com · github.com/MJGrauVi", 12, 8);

  // Perfil profesional
  doc.setFontSize(14);
  doc.text("PERFIL PROFESIONAL", margenIzquierdo, y);
  y += 6;
  addParagraph("Estudiante de 2º del Ciclo Formativo de Grado Superior en DAW, en fase de FCT. "
            + "Perfil responsable y organizado, con amplia experiencia laboral previa y formación actual en desarrollo web backend con PHP y Laravel. "
            + "Con conocimientos en desarrollo frontend con JavaScript y React. "
            + "Acostumbrado a trabajar con proyectos, control de versiones y entornos de desarrollo, con alta motivación por incorporarse a un entorno profesional para seguir aprendiendo.", 11, 10);

  // Formación
  doc.setFontSize(14);
  doc.text("FORMACIÓN", margenIzquierdo, y);
  y += 6;
  addParagraph("Ciclo Formativo de Grado Superior en Desarrollo de Aplicaciones Web (DAW) — En curso", 11, 2);
  addParagraph("Backend con Java y PHP · JavaScript · HTML · CSS · Arquitectura MVC · Laravel · React · Git y GitHub", 11, 2);
  addParagraph("Acceso a la Universidad para mayores de 25 años — Universidad de Relaciones Laborales de Alicante", 11, 10);

  // Competencias técnicas
  doc.setFontSize(14);
  doc.text("COMPETENCIAS TÉCNICAS", margenIzquierdo, y);
  y += 6;
  addParagraph("Java · PHP · JavaScript · HTML5 · CSS3 · Laravel · React · Bootstrap · Tailwind CSS · Git/GitHub · VS Code · PhpStorm", 11, 10);

  // Experiencia profesional
  doc.setFontSize(14);
  doc.text("EXPERIENCIA PROFESIONAL", margenIzquierdo, y);
  y += 6;
  addParagraph("Responsable de Administración de Ventas – Concesionario FORD (1989–1998)", 11, 2);
  addParagraph("Gestor Inmobiliario – Promoción de Viviendas (1998–2015)", 11, 2);
  addParagraph("Responsable de Gestión Ganadera (2015–2021)", 11, 2);
  addParagraph("Amplia experiencia en gestión administrativa, documentación, coordinación y cumplimiento de plazos.", 11, 10);

  // Idiomas
  doc.setFontSize(14);
  doc.text("IDIOMAS", margenIzquierdo, y);
  y += 6;
  addParagraph("Inglés: B1 (lectura técnica básica)", 11, 6);

  // Guardar PDF
  doc.save("CV_DAW_JS_Espaciado.pdf");
});
</script>
</body>
</html>
